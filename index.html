<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <title>website</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="/favicon.ico">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <!-- build:css styles/vendor.css -->
        <!-- bower:css -->
        <!-- endbower -->
        <!-- endbuild -->
        <!-- build:css(.tmp) styles/main.css -->
        <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.css">
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

        <link rel="stylesheet" href="styles/main.css">
        <!-- endbuild -->
    </head>
    <body>
        <!--[if lt IE 10]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->


        <nav></nav> 

        <div id='main-container'>
            <form id='moon-form'>

                <div id='draw-input'></div>

                <div id='text-input'>

                    <h1>Draw Something</h1>

                    <div id='control'>
                        <div class='draw'>
                            <i class="fa fa-pencil fa-2x"></i>
                        </div>
                        <div class='erase'>
                            <i class="fa fa-eraser fa-2x"></i>                            
                        </div>
                    </div>


                    <div id='m-text-container'>
                        <textarea id='m-textarea' placeholder='Write a short description of your drawing...'></textarea>
                        <!-- optional fields -->
                        <input type='text' id='m-age' placeholder='age'>
                        <input type='text' id='m-name' placeholder='name'>
                        <input type='text' id='m-country' placeholder='name'>

                        <div id='m-wordcount' class=''> <span id='m-words'>140</span> words left</div>
                    </div>
                    <div class='submit'>
                        <button class='anon'>Submit</button>
                    </div>
                </div>

            </form>
        </div>

        <!-- build:js scripts/vendor.js -->
        <!-- bower:js -->
        <script src="../bower_components/processing/processing.min.js"></script>
                <script src="../bower_components/x2js/xml2json.min.js"></script>

        <script src="../bower_components/jquery/dist/jquery.js"></script>
        <script src="../bower_components/underscore/underscore.js"></script>
        <!-- endbower -->
        <!-- endbuild -->

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>
        
        <!-- <script src="http://54.68.129.229/socket.io/socket.io.js"></script> -->
        <script src="scripts/gml-editor.js"></script>
        <script src="scripts/gml-canvas.js"></script>
        <script src="scripts/form.js"></script>
        <!-- endbuild -->

        <script type='text/javascript'>

            app.ui = {};
            app.ui.textForm = (function(){
                'use strict';
                var MAX_CHARS = 140;

                var init = function(){
                    $('#m-words').html(MAX_CHARS);
                    $('#m-textarea').keyup(function(){
                        var txt = $('#m-textarea').val();
                        var chars = txt.length;
                        $('#m-words').html('' + (MAX_CHARS-chars) +'');
                        if (chars>140){
                            $('#m-wordcount').addClass('negative');
                        }
                        else{
                            $('#m-wordcount').removeClass('negative');
                        }
                    });
                };

                var getVal = function(){
                    var txt = $('#m-textarea').val();
                    return (txt.substring(0,140));
                };

                return {
                    'init' : init,
                    'getVal' : getVal
                };
            })();
            
            app.ui.textForm.init();

        </script>

</body>
</html>
